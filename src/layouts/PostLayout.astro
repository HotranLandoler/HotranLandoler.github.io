---
import { getCurrentLocale } from '~/i18n';
import BaseLayout from './BaseLayout.astro';

const locale = getCurrentLocale(Astro.params);
const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title}>
  <main lang="zh">
    <header class="post-header">
      <h1>{frontmatter.title}</h1>
      <p class="date">
        <time>{frontmatter.pubDate.toLocaleDateString(locale)}</time>
      </p>
      <p class="description">{frontmatter.description}</p>
    </header>
    <article class="post">
      <slot />
    </article>
  </main>
</BaseLayout>

<style>
  h1 {
    margin-bottom: 3rem;
    font-size: 4rem;
    color: var(--color-on-background-light);
  }
  .description {
    margin-bottom: 1rem;
    font-size: 1.2rem;
  }
  .date {
    margin-bottom: 1rem;
    color: var(--color-on-background-light);
  }
</style>

<style is:global>
  .post {
    *:nth-child(1) {
      margin-top: 0;
    }

    p {
      line-height: 1.75;
      margin-bottom: 0.5rem;
    }

    h2 {
      margin-top: 3rem;
      margin-bottom: 1.5rem;
    }

    h3,
    h4 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    ul,
    ol {
      padding-left: 1rem;
      list-style: disc;

      margin-bottom: 0.5rem;
    }
    li {
      line-height: 1.5;
    }

    ul ul,
    ol ol {
      list-style: circle;
    }

    pre {
      margin-bottom: 1rem;
      padding: 2rem;
    }

    code {
      font-family:
        'Fira Code', ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo,
        Consolas, 'DejaVu Sans Mono', 'Noto Sans SC', monospace;
      font-weight: 400;
    }
  }
</style>

<!-- <style lang="scss" is:global>
  .post {
    padding-top: 8rem;
    margin-bottom: 5rem;

    .container {
      max-width: 48rem;
    }

    .date {
      // color: var(--color-primary-dark);
    }

    .post-header {
      // background-color: var(--color-surface);
      border-bottom: 2px solid var(--color-secondary);
      margin-bottom: 2rem;
      padding: 1rem 1rem 0 0;
    }

    a {
      color: var(--color-primary-dark);

      &:hover {
        text-decoration: none;
      }
    }

    code {
      font-size: 1rem;
    }

    h1 {
      // font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    h3,
    h4 {
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }

    ul,
    ol {
      padding-left: 1rem;
      list-style: disc;
    }

    li {
      line-height: 2;

      &::marker {
        color: var(--color-secondary);
      }

      p {
        margin-bottom: 0;
      }
    }

    p {
      line-height: 2;
    }

    pre {
      margin-bottom: 1rem;
      padding: 1rem 2rem;
      border-radius: 1rem;
    }
  }
</style> -->
