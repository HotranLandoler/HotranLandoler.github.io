---
import { Image } from 'astro:assets';
import Trans from '~/components/Trans.astro';
import { Icon } from 'astro-icon/components';
import GameLayout from '~/layouts/GameLayout.astro';
import banner from '~/images/belt-rush/BeltRush.webp';
import icon1 from '~/images/belt-rush/tape.webp';
import icon2 from '~/images/belt-rush/triangle.webp';
import sideImg from '~/images/belt-rush/pack.webp';
import { getCurrentTranslations, getLocaleStaticPaths } from '~/i18n';

export const getStaticPaths = getLocaleStaticPaths;

const gameKey = 'beltRush';

const t = getCurrentTranslations(Astro.params);
const gameTranslations = t.games[gameKey];

const surfaceColor = '#5779d5';
---

<GameLayout
  gameKey={gameKey}
  bannerSrc={banner}
  gameLink="https://uma-studio.itch.io/belt-rush"
  srcLink="https://gitee.com/dubhe-team/ld53"
  pubDate="2023-5-2"
  textColor="white"
  backgroundColor="#6587e3"
  foregroundColor="#6587e3"
  primaryColor="#ffd37a"
  primaryDarkColor="#ffb658"
  onPrimaryColor="#222"
  surfaceColor={surfaceColor}>
  <p>
    {gameTranslations.intro}
  </p>
  <div slot="info-main">
    <iframe
      class="mb-m video"
      src="//player.bilibili.com/player.html?aid=825964426&bvid=BV1Ag4y1L7s8&cid=1124747994&page=1&autoplay=0"
      allow="fullscreen"
      title="Bilibili video for IntoSoil">
    </iframe>
    <section>
      <header class="flex-gap-s mb-s">
        <Image class="heading-icon" src={icon1} alt="Tape" />
        <h2>{t.games.howToPlay}</h2>
      </header>
      <p>
        {gameTranslations.howTo}
      </p>
    </section>
    <section>
      <header class="flex-gap-s mb-s">
        <Image class="heading-icon" src={icon2} alt="Triangle" />
        <h2>{t.games.note}</h2>
      </header>
      <p>
        <Trans localizedText={gameTranslations.note}>
          <a
            class="base-link"
            target="_blank"
            href="https://ldjam.com/events/ludum-dare/53/belt-rush">
          </a>
        </Trans>
      </p>
    </section>
  </div>
  <span slot="platforms">
    <Icon name="mdi:microsoft-windows" title="Windows" />
    <Icon name="simple-icons:webgl" title="Web" />
    <Icon name="mdi:android-head" title="Android" />
    <Icon name="mdi:linux" title="Linux" />
    <Icon name="mdi:apple" title="macOS" />
  </span>
  <span slot="language">English</span>
  <ul slot="team">
    <Trans localizedText={gameTranslations.team}>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </Trans>
  </ul>
  <Image class="side-img" slot="side-img" src={sideImg} alt="" />
</GameLayout>

<style define:vars={{ surfaceColor }}>
  .side-img {
    max-width: 6rem;
  }
  .video {
    background-color: var(--surfaceColor);
  }
</style>
